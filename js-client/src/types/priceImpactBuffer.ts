/**
 * This code was AUTOGENERATED using the codama library.
 * Please DO NOT EDIT THIS FILE, instead use visitors
 * to add features, then rerun codama to update it.
 *
 * @see https://github.com/codama-idl/codama
 */

import {
  combineCodec,
  getArrayDecoder,
  getArrayEncoder,
  getF32Decoder,
  getF32Encoder,
  getI64Decoder,
  getI64Encoder,
  getStructDecoder,
  getStructEncoder,
  getU64Decoder,
  getU64Encoder,
  type FixedSizeCodec,
  type FixedSizeDecoder,
  type FixedSizeEncoder,
} from '@solana/kit'

export type PriceImpactBuffer = {
  openInterest: Array<bigint>
  lastUpdated: bigint
  feeFactor: bigint
  exponent: number
  deltaImbalanceThresholdDecimal: bigint
  maxFeeBps: bigint
}

export type PriceImpactBufferArgs = {
  openInterest: Array<number | bigint>
  lastUpdated: number | bigint
  feeFactor: number | bigint
  exponent: number
  deltaImbalanceThresholdDecimal: number | bigint
  maxFeeBps: number | bigint
}

export function getPriceImpactBufferEncoder(): FixedSizeEncoder<PriceImpactBufferArgs> {
  return getStructEncoder([
    ['openInterest', getArrayEncoder(getI64Encoder(), { size: 60 })],
    ['lastUpdated', getI64Encoder()],
    ['feeFactor', getU64Encoder()],
    ['exponent', getF32Encoder()],
    ['deltaImbalanceThresholdDecimal', getU64Encoder()],
    ['maxFeeBps', getU64Encoder()],
  ])
}

export function getPriceImpactBufferDecoder(): FixedSizeDecoder<PriceImpactBuffer> {
  return getStructDecoder([
    ['openInterest', getArrayDecoder(getI64Decoder(), { size: 60 })],
    ['lastUpdated', getI64Decoder()],
    ['feeFactor', getU64Decoder()],
    ['exponent', getF32Decoder()],
    ['deltaImbalanceThresholdDecimal', getU64Decoder()],
    ['maxFeeBps', getU64Decoder()],
  ])
}

export function getPriceImpactBufferCodec(): FixedSizeCodec<
  PriceImpactBufferArgs,
  PriceImpactBuffer
> {
  return combineCodec(
    getPriceImpactBufferEncoder(),
    getPriceImpactBufferDecoder()
  )
}
